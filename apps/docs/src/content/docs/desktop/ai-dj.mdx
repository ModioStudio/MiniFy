---
title: AI DJ
description: Your personal AI-powered music assistant - architecture, capabilities, and configuration.
---

import { Aside, Steps, Tabs, TabItem } from '@astrojs/starlight/components';

# AI DJ

MiniFy includes an integrated AI DJ that acts as your personal music assistant. It understands your
listening habits, analyzes your music taste, and can discover and play songs based on your preferences.

## Overview

The AI DJ uses advanced language models combined with Spotify data access to have natural conversations
about music. It's like having a knowledgeable friend who knows your entire listening history.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            AI DJ Architecture                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                          User Interface                              â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚  â”‚  Chat Input   â”‚  â”‚  Message      â”‚  â”‚  Quick Suggestions    â”‚   â”‚   â”‚
â”‚   â”‚  â”‚  Component    â”‚  â”‚  Display      â”‚  â”‚  (Prompt Buttons)     â”‚   â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                       â”‚                                      â”‚
â”‚                                       â–¼                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                       AI Client (Vercel AI SDK)                      â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚  â”‚ System Prompt â”‚  â”‚  Tool         â”‚  â”‚  Conversation         â”‚   â”‚   â”‚
â”‚   â”‚  â”‚ (DJ Persona)  â”‚  â”‚  Definitions  â”‚  â”‚  History              â”‚   â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                        â”‚                          â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚           â–¼                                                      â–¼           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   AI Provider     â”‚                              â”‚   Spotify Tools   â”‚  â”‚
â”‚   â”‚   (LLM API)       â”‚                              â”‚   (Function Calls)â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚ â€¢ OpenAI GPT-4o   â”‚                              â”‚ â€¢ getCurrentTrack â”‚  â”‚
â”‚   â”‚ â€¢ Anthropic Claudeâ”‚                              â”‚ â€¢ searchTracks    â”‚  â”‚
â”‚   â”‚ â€¢ Google Gemini   â”‚                              â”‚ â€¢ playTrack       â”‚  â”‚
â”‚   â”‚ â€¢ Groq Llama      â”‚                              â”‚ â€¢ getTopTracks    â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚ â€¢ getMusicTaste   â”‚  â”‚
â”‚                                                       â”‚ â€¢ getRecommendationsâ”‚
â”‚                                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚            â”‚
â”‚                                                                 â–¼            â”‚
â”‚                                                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                                       â”‚   Spotify API     â”‚  â”‚
â”‚                                                       â”‚   (via tokens)    â”‚  â”‚
â”‚                                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## How It Works

### 1. Conversation Processing

When you send a message to the AI DJ:

1. Your message is added to the conversation history
2. The AI model receives the conversation + system prompt + available tools
3. The AI decides whether to respond directly or call tools
4. If tools are called, results are fed back to the AI
5. The AI generates a final response

### 2. Tool Calling (Function Calling)

The AI DJ uses Spotify "tools" - functions it can call to interact with your music:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Tool Calling Flow Example                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  User: "Play something upbeat based on my taste"                       â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Step 1: AI calls getMusicTaste tool                              â”‚   â”‚
â”‚  â”‚         â†’ Returns: avg energy: 0.72, avg valence: 0.65           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                          â”‚
â”‚                              â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Step 2: AI calls getRecommendations tool                         â”‚   â”‚
â”‚  â”‚         params: targetEnergy: 0.8, targetValence: 0.75           â”‚   â”‚
â”‚  â”‚         â†’ Returns: 10 track recommendations                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                          â”‚
â”‚                              â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Step 3: AI calls playTrack tool                                  â”‚   â”‚
â”‚  â”‚         params: trackUri: "spotify:track:abc123"                 â”‚   â”‚
â”‚  â”‚         â†’ Track starts playing                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                          â”‚
â”‚                              â–¼                                          â”‚
â”‚  AI Response: "I noticed you've been enjoying energetic tracks with    â”‚
â”‚  positive vibes. Here's 'Track Name' by Artist - it matches your       â”‚
â”‚  taste perfectly with high energy and an uplifting feel!"              â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Available Tools

The AI DJ has access to these Spotify tools:

### Playback Control

| Tool | Description | Example Use |
|------|-------------|-------------|
| `getCurrentTrack` | Get currently playing track info | "What's playing now?" |
| `playTrack` | Play a specific track by URI | "Play that song" |
| `searchTracks` | Search for tracks by query | "Find songs by artist X" |

### User Profile Analysis

| Tool | Description | Example Use |
|------|-------------|-------------|
| `getRecentlyPlayed` | Last 50 played tracks | "What did I listen to today?" |
| `getTopTracks` | Most played tracks (various time ranges) | "What are my top songs?" |
| `getTopArtists` | Most listened artists with genres | "Who do I listen to most?" |
| `getMusicTaste` | Deep analysis of audio features | "Analyze my music taste" |
| `getUserProfile` | Account info and library size | "How many songs do I have saved?" |

### Smart Recommendations

| Tool | Description | Example Use |
|------|-------------|-------------|
| `getRecommendations` | Spotify-powered recommendations | "Suggest something similar" |

### Tool Parameters

**Time Ranges for Historical Data:**
- `short_term`: Last 4 weeks
- `medium_term`: Last 6 months (default)
- `long_term`: Several years

**Audio Feature Targets:**
- `targetEnergy`: 0.0 (calm) â†’ 1.0 (intense)
- `targetValence`: 0.0 (sad) â†’ 1.0 (happy)
- `targetDanceability`: 0.0 (still) â†’ 1.0 (dance)

## Audio Features Explained

The AI DJ understands these Spotify audio characteristics:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Audio Feature Spectrum                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Energy        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚                0.0                    0.5                          1.0  â”‚
â”‚                Calm, ambient          Moderate           High-energy    â”‚
â”‚                                                                         â”‚
â”‚  Valence       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  (Mood)        0.0                    0.5                          1.0  â”‚
â”‚                Sad, dark              Neutral            Happy, upbeat  â”‚
â”‚                                                                         â”‚
â”‚  Danceability  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚                0.0                    0.5                          1.0  â”‚
â”‚                Not suitable           Moderate            Great for     â”‚
â”‚                for dancing            rhythm              dancing       â”‚
â”‚                                                                         â”‚
â”‚  Acousticness  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚                0.0                    0.5                          1.0  â”‚
â”‚                Electronic,            Mixed               Acoustic,     â”‚
â”‚                produced                                   organic       â”‚
â”‚                                                                         â”‚
â”‚  Tempo (BPM)   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚                60        80       100       120       140       180+    â”‚
â”‚                Slow      Chill    Moderate  Upbeat    Fast      Very    â”‚
â”‚                                                                  fast   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example Analysis Output

When you ask "analyze my music taste", the AI might process:

```json
{
  "averageFeatures": {
    "energy": 0.72,
    "valence": 0.58,
    "danceability": 0.65,
    "tempo": 118,
    "acousticness": 0.23
  },
  "moodDescription": "energetic, danceable",
  "interpretation": {
    "energy": "Prefers energetic music",
    "mood": "Generally positive/happy music taste",
    "style": "Prefers produced/electronic sounds",
    "tempo": "Average tempo: 118 BPM"
  }
}
```

## Supported AI Providers

<Tabs>
  <TabItem label="OpenAI">
    **Model**: GPT-4o Mini

    - **Best for**: General purpose, balanced performance
    - **Response speed**: Fast
    - **Tool calling**: Excellent
    - **Cost**: Low per query

    ```typescript
    const model = openai("gpt-4o-mini");
    ```
  </TabItem>
  <TabItem label="Anthropic">
    **Model**: Claude 3 Haiku

    - **Best for**: Nuanced conversations, detailed explanations
    - **Response speed**: Fast
    - **Tool calling**: Good
    - **Cost**: Low per query

    ```typescript
    const model = anthropic("claude-3-haiku-20240307");
    ```
  </TabItem>
  <TabItem label="Google AI">
    **Model**: Gemini 1.5 Flash

    - **Best for**: Quick recommendations
    - **Response speed**: Very fast
    - **Tool calling**: Good
    - **Cost**: Free tier available

    ```typescript
    const model = google("gemini-1.5-flash");
    ```
  </TabItem>
  <TabItem label="Groq">
    **Model**: Llama 3.1 8B Instant

    - **Best for**: Fast, open-source option
    - **Response speed**: Extremely fast
    - **Tool calling**: Good
    - **Cost**: Free tier available

    ```typescript
    const model = groq("llama-3.1-8b-instant");
    ```
  </TabItem>
</Tabs>

## Setting Up AI DJ

<Steps>
1. **Open Settings**

   Right-click anywhere in MiniFy â†’ Settings, or press `Ctrl+,` / `âŒ˜+,`

2. **Navigate to Connections**

   Click on the "Connections" tab in the settings sidebar

3. **Choose your AI provider**

   Select from OpenAI, Anthropic, Google AI, or Groq

4. **Enter your API key**

   Get an API key from your chosen provider's dashboard:
   - [OpenAI API Keys](https://platform.openai.com/api-keys)
   - [Anthropic Console](https://console.anthropic.com/)
   - [Google AI Studio](https://aistudio.google.com/app/apikey)
   - [Groq Console](https://console.groq.com/keys)

5. **Validate and activate**

   Click "Connect" to validate your API key, then set the provider as **Active**

6. **Access AI DJ**

   Right-click in MiniFy â†’ Select "AI DJ" from the context menu
</Steps>

## API Key Security

Your AI API keys are stored securely in your operating system's credential manager:

| Platform | Storage Location | Encryption |
|----------|------------------|------------|
| Windows | Windows Credential Manager | DPAPI |
| macOS | Keychain | AES-256 |
| Linux | Secret Service (GNOME Keyring) | AES |

<Aside type="note">
API keys are **never** stored in plain text files. Each provider's key is stored
separately and only used for that provider's API calls.
</Aside>

## Privacy and Data Flow

### What AI DJ Accesses

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       AI DJ Data Access                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚      Your Spotify Data           â”‚                                   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                   â”‚
â”‚  â”‚  â”‚ Currently playing track    â”‚  â”‚                                   â”‚
â”‚  â”‚  â”‚ Recently played (50 max)   â”‚  â”‚  â”€â”€â”€â–¶  Processed locally         â”‚
â”‚  â”‚  â”‚ Top tracks (time ranges)   â”‚  â”‚        in MiniFy                  â”‚
â”‚  â”‚  â”‚ Top artists with genres    â”‚  â”‚                                   â”‚
â”‚  â”‚  â”‚ Audio features (numbers)   â”‚  â”‚  â”€â”€â”€â–¶  Text summary sent         â”‚
â”‚  â”‚  â”‚ Library size count         â”‚  â”‚        to AI provider            â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚    What AI Provider Sees         â”‚                                   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                   â”‚
â”‚  â”‚  â”‚ âœ… Track names             â”‚  â”‚                                   â”‚
â”‚  â”‚  â”‚ âœ… Artist names            â”‚  â”‚                                   â”‚
â”‚  â”‚  â”‚ âœ… Genre labels            â”‚  â”‚                                   â”‚
â”‚  â”‚  â”‚ âœ… Audio feature numbers   â”‚  â”‚                                   â”‚
â”‚  â”‚  â”‚ âœ… Your chat messages      â”‚  â”‚                                   â”‚
â”‚  â”‚  â”‚ âŒ Spotify tokens          â”‚  â”‚                                   â”‚
â”‚  â”‚  â”‚ âŒ Your account email      â”‚  â”‚                                   â”‚
â”‚  â”‚  â”‚ âŒ Other API keys          â”‚  â”‚                                   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API Calls Flow

```
Your Device                          External Services
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â”‚
    â”‚  (1) User sends message
    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  AI Provider (OpenAI, etc.)
    â”‚                           Receives: text + track metadata
    â”‚                           Returns: response + tool calls
    â”‚
    â”‚  (2) Tool execution
    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  Spotify API
    â”‚                           Receives: API request + token
    â”‚                           Returns: music data
    â”‚
    â”‚  (All API calls use HTTPS encryption)
```

## Example Conversations

### Mood-Based Request

**You**: "I'm feeling energetic, play something upbeat!"

**AI DJ**: *Calls getMusicTaste â†’ getRecommendations(targetEnergy: 0.9, targetValence: 0.8) â†’ playTrack*

"I can see you usually enjoy tracks with high energy! Here's 'Blinding Lights' by The Weeknd -
it has an energy level of 0.79 and a super positive vibe. Perfect for your current mood! ğŸµ"

### Discovery Request

**You**: "Find me something similar to what I've been listening to lately"

**AI DJ**: *Calls getRecentlyPlayed â†’ getRecommendations(seedTracks: [...]) â†’ playTrack*

"Based on your recent listening, you've been into electronic pop with artists like Dua Lipa.
Here's 'Don't Start Now' - it matches your vibe with high danceability (0.79) and positive
energy. Now playing!"

### Analysis Request

**You**: "What does my music taste say about me?"

**AI DJ**: *Calls getMusicTaste â†’ getTopArtists â†’ getTopTracks*

"Your music profile is fascinating! Here's what I found:
- **Energy**: 0.72 average - you prefer upbeat, energetic tracks
- **Mood**: 0.65 valence - generally positive and cheerful music
- **Style**: Low acousticness (0.23) - you lean toward produced, electronic sounds
- **Tempo**: 118 BPM average - you like music with a solid groove

Your top genres are pop, indie pop, and electronic. You seem to use music to energize
and uplift your mood!"

## Troubleshooting

### AI DJ not appearing in menu

1. Ensure you have an AI provider configured in Settings â†’ Connections
2. Make sure the provider is marked as **Active**
3. Restart MiniFy if needed

### "No AI provider configured" error

1. Go to Settings â†’ Connections
2. Add an API key for at least one provider
3. Click "Connect" to validate
4. Set the provider as **Active**

### API key validation fails

1. Double-check your API key is correct (no extra spaces)
2. Ensure you have API credits available in your provider account
3. Check your internet connection
4. Some providers require billing setup before API access

### Tool calls failing

1. Check that Spotify is connected and authenticated
2. Ensure you have an active Spotify playback device
3. Try playing something in Spotify first, then ask AI DJ

### Slow responses

- Try switching to a faster provider (Groq is typically fastest)
- Check your internet connection
- The first message may be slower as the AI loads your profile

## Technical Details

### System Prompt

The AI DJ uses a carefully crafted system prompt that defines its personality and capabilities:

```
You are an AI DJ assistant for MiniFy, a desktop music player app.
Your role is to help users discover and play music based on their
listening history, preferences, and mood.

Strategy Guidelines:
- For new users: Call getMusicTaste and getTopArtists to understand profile
- For "play something good": Use getMusicTaste then getRecommendations
- For mood requests: Use targetValence/targetEnergy parameters
- Always explain WHY you chose tracks based on user data
```

### Max Tool Steps

The AI can execute up to **5 tool calls** per message to ensure comprehensive responses
while preventing infinite loops.

### Conversation Memory

The AI DJ maintains conversation history within a session. When you close and reopen
the AI DJ, the conversation resets.

