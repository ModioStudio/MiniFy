---
title: Settings
description: Complete guide to configuring MiniFy - all settings and options explained.
---

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';

# Settings

MiniFy offers various settings to customize your experience. Access settings by pressing
`Ctrl+,` (Windows/Linux) or `⌘+,` (macOS), or right-click → Settings.

## Settings Architecture

```
┌───────────────────────────────────────────────────────────────────────────────┐
│                           Settings Storage                                     │
├───────────────────────────────────────────────────────────────────────────────┤
│                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────┐ │
│   │                      settings.json (Plain Text)                          │ │
│   │                                                                          │ │
│   │   Non-sensitive configuration:                                           │ │
│   │   • Theme preference                                                     │ │
│   │   • Layout preference                                                    │ │
│   │   • AI provider names (not keys!)                                        │ │
│   │   • Active provider selection                                            │ │
│   │   • First boot status                                                    │ │
│   │                                                                          │ │
│   └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────┐ │
│   │                      OS Keyring (Encrypted)                              │ │
│   │                                                                          │ │
│   │   Sensitive credentials:                                                 │ │
│   │   • Spotify access token                                                 │ │
│   │   • Spotify refresh token                                                │ │
│   │   • Spotify client ID                                                    │ │
│   │   • AI API keys (OpenAI, Anthropic, etc.)                               │ │
│   │                                                                          │ │
│   └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘
```

## Settings File Location

<Tabs>
  <TabItem label="Windows">
    ```
    %APPDATA%\MiniFy\settings.json
    ```
    Example: `C:\Users\YourName\AppData\Roaming\MiniFy\settings.json`
  </TabItem>
  <TabItem label="macOS">
    ```
    ~/Library/Application Support/MiniFy/settings.json
    ```
  </TabItem>
  <TabItem label="Linux">
    ```
    ~/.config/MiniFy/settings.json
    ```
  </TabItem>
</Tabs>

## Settings Schema

```json
{
  "first_boot_done": true,
  "spotify": {
    "access_token": null,
    "refresh_token": null
  },
  "layout": "LayoutB",
  "theme": "dark",
  "ai_providers": [
    { "provider": "openai", "enabled": true },
    { "provider": "anthropic", "enabled": false }
  ],
  "active_ai_provider": "openai",
  "active_music_provider": "spotify"
}
```

<Aside type="note">
Notice that `access_token` and `refresh_token` are always `null` in the settings file.
Actual tokens are stored in the encrypted OS keyring.
</Aside>

## General Settings

### First Boot

| Setting | Type | Default | Description |
|---------|------|---------|-------------|
| `first_boot_done` | boolean | false | Tracks if initial setup is complete |

### Music Provider

| Setting | Type | Default | Description |
|---------|------|---------|-------------|
| `active_music_provider` | string | "spotify" | Currently active music service |

## Appearance Settings

### Theme

| Setting | Type | Default | Options |
|---------|------|---------|---------|
| `theme` | string | "dark" | dark, light, catppuccin, dracula, chatgpt, YouTube, bmw, milka, or custom |

**Changing themes:**
1. Right-click anywhere → Themes → Select theme
2. Or via Settings → Appearance → Theme dropdown

### Layout

| Setting | Type | Default | Options |
|---------|------|---------|---------|
| `layout` | string | "LayoutA" | LayoutA (Compact), LayoutB (Standard), LayoutC (Expanded) |

**Layout dimensions:**

| Layout | Size | Best For |
|--------|------|----------|
| LayoutA | Compact | Minimal footprint |
| LayoutB | Standard | Daily use |
| LayoutC | Expanded | Large album art |

## AI Settings

### Provider Configuration

```json
{
  "ai_providers": [
    { "provider": "openai", "enabled": true },
    { "provider": "anthropic", "enabled": false },
    { "provider": "google", "enabled": false },
    { "provider": "groq", "enabled": false }
  ],
  "active_ai_provider": "openai"
}
```

| Setting | Type | Description |
|---------|------|-------------|
| `ai_providers` | array | List of configured AI providers |
| `ai_providers[].provider` | string | Provider name (openai, anthropic, google, groq) |
| `ai_providers[].enabled` | boolean | Whether provider is enabled |
| `active_ai_provider` | string | Currently active provider for AI DJ |

<Aside type="caution">
API keys are **never** stored in settings.json. They're stored in the encrypted OS keyring.
</Aside>

## Spotify Settings

### Token Storage

```json
{
  "spotify": {
    "access_token": null,
    "refresh_token": null
  }
}
```

These fields exist for historical reasons but are always `null`. Actual tokens are stored in:

| Platform | Storage |
|----------|---------|
| Windows | Windows Credential Manager |
| macOS | Keychain |
| Linux | Secret Service (GNOME Keyring) |

## Managing Settings

### Via UI

1. Press `Ctrl+,` (or `⌘+,` on macOS)
2. Or right-click → Settings
3. Modify settings in the graphical interface

### Via File

Edit `settings.json` directly:

```bash
# Windows PowerShell
notepad "$env:APPDATA\MiniFy\settings.json"

# macOS
open ~/Library/Application\ Support/MiniFy/settings.json

# Linux
xdg-open ~/.config/MiniFy/settings.json
```

<Aside type="caution">
MiniFy must be restarted for file changes to take effect.
</Aside>

### Via Command Line

```bash
# Clear all settings and credentials
pnpm desktop:clear
```

This removes:
- settings.json
- All keyring entries (tokens, API keys)

## Resetting Settings

### Reset to Defaults

1. Open Settings
2. Scroll to bottom
3. Click "Reset All Settings"
4. Confirm the reset

### Manual Reset

Delete the settings file:

<Tabs>
  <TabItem label="Windows">
    ```powershell
    Remove-Item "$env:APPDATA\MiniFy\settings.json"
    ```
  </TabItem>
  <TabItem label="macOS">
    ```bash
    rm ~/Library/Application\ Support/MiniFy/settings.json
    ```
  </TabItem>
  <TabItem label="Linux">
    ```bash
    rm ~/.config/MiniFy/settings.json
    ```
  </TabItem>
</Tabs>

## Export and Import

### Export Settings

1. Open Settings
2. Click "Export Settings"
3. Choose a save location
4. Save as JSON file

**Note:** Exported settings do **not** include:
- Spotify tokens
- AI API keys
- Any sensitive credentials

### Import Settings

1. Open Settings
2. Click "Import Settings"
3. Select your settings file
4. Settings are applied immediately

## Settings Best Practices

1. **Backup your settings** before major changes
2. **Don't edit while app is running** - changes may be overwritten
3. **Never share settings exports** containing custom theme data if it includes sensitive info
4. **Use the UI** when possible - it validates settings automatically

## Troubleshooting

### Settings not saving

- Ensure MiniFy has write permissions to the config directory
- Check if another instance of MiniFy is running
- Try running as administrator (Windows) or with sudo (Linux)

### Settings reset after update

- Updates may add new settings with defaults
- Your existing settings should be preserved
- If not, restore from your backup export

### Corrupted settings file

If MiniFy won't start due to corrupted settings:

```bash
# Backup corrupted file
mv settings.json settings.json.backup

# MiniFy will create fresh defaults on next launch
```

